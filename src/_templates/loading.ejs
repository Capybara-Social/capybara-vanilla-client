<script>
    let theme = localStorage.getItem("theme") || (window.matchMedia('(prefers-color-scheme: dark)').matches ? "dark" : "light");
    theme = theme || "dark";
    let tillLoad = document.createElement("span");
    tillLoad.style.height = "100%";
    tillLoad.style.width = "100%";
    tillLoad.style.position = "fixed";
    tillLoad.style.zIndex = "5";
    tillLoad.style.offset = "0";
    tillLoad.style.backgroundColor = theme == "dark" ? "#010101" : "#e1e1e1";
    tillLoad.style.display = "flex";
    tillLoad.style.flexDirection = "column";
    tillLoad.style.alignItems = "center";
    tillLoad.style.justifyContent = "space-evenly";
    tillLoad.innerHTML = `<%-icons.capi%>`;
    tillLoad.children[0].style.fill = "#a52a02";
    tillLoad.children[0].style.height = "20%";
    tillLoad.children[0].style.width = tillLoad.children[0].innerHeight;
    tillLoad.children[0].style.aspectRatio = "1/1";
    tillLoad.innerHTML += `<%-icons.load%>`;
    tillLoad.children[1].style.fill = "#a52a02";
    tillLoad.children[1].style.height = "10%";
    tillLoad.children[1].style.aspectRatio = "1/1";
    tillLoad.children[1].classList.add("spin");
    spin = document.createElement("style");
    spin.innerHTML = `
    @keyframes spin{to{transform:rotate(360deg)}} .spin{animation: spin 1s linear none infinite;}
    *{adding: 0;margin: 0;}
    `
    document.head.append(spin);
    document.head.append(); 
    document.body.prepend(tillLoad);
    window.addEventListener("DOMContentLoaded", () => {tillLoad.remove();spin.remove()});
</script>